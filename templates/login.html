<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ text.login }}</title>
  
  <style>
/* ================================================
   1. Base & Reset
==================================================*/

*, *::before, *::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 1.5rem;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #dff0d8;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

/* ================================================
   2. Headings
==================================================*/

h2 {
  margin-bottom: 1.5rem;
  color: #2f5d27;
  text-shadow: 1px 1px 0 #a3d39c;
  text-align: center;
}

/* ================================================
   3. Form Container
==================================================*/

form {
  background: #f9fff7;
  padding: 2rem 1.5rem;
  border-radius: 12px;
  max-width: 400px;
  width: 100%;
  box-shadow:
    5px 5px 15px rgba(0, 80, 0, 0.15),
    -5px -5px 15px rgba(144, 238, 144, 0.6);
}

/* ================================================
   4. Form Labels & Inputs
==================================================*/

label {
  display: block;
  font-weight: 600;
  color: #3b6b1e;
  margin-bottom: 0.3rem;
  font-size: 1.1rem;
  text-align: left;
}

.input-group {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1.2rem;
  flex-wrap: wrap;
}

input[type="email"],
input[type="password"] {
  flex: 1 1 auto;
  padding: 10px 12px;
  font-size: 1rem;
  border-radius: 8px;
  border: 2px solid #8cc63f;
  box-shadow: inset 2px 2px 5px rgba(140, 198, 63, 0.4);
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
  outline: none;
  min-width: 0;
}

input[type="email"]:focus,
input[type="password"]:focus {
  border-color: #567d1b;
  box-shadow: 0 0 8px 2px #9edc6e;
}

/* ================================================
   5. Buttons
==================================================*/

/* Mic Button */
button[type="button"] {
  flex-shrink: 0;
  width: 40px;
  height: 38px;
  border: none;
  border-radius: 8px;
  background: #a4d03b;
  color: #fff;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow:
    2px 2px 5px rgba(0, 90, 0, 0.3),
    inset 1px 1px 3px rgba(255, 255, 255, 0.5);
  transition: background 0.3s ease;
}

button[type="button"]:hover {
  background: #81b622;
}

/* Submit Button */
button[type="submit"] {
  width: 100%;
  margin-top: 10px;
  padding: 12px 20px;
  border: none;
  border-radius: 15px;
  background: linear-gradient(145deg, #6abf3a, #4a7d14);
  color: white;
  font-size: 1.2rem;
  font-weight: 700;
  cursor: pointer;
  box-shadow:
    4px 4px 6px #3e6b11,
    -4px -4px 6px #a8df65;
  transition: background 0.3s ease, box-shadow 0.3s ease;
}

button[type="submit"]:hover {
  background: linear-gradient(145deg, #81c643, #5c8c21);
  box-shadow:
    6px 6px 8px #346409,
    -6px -6px 8px #b5e072;
}

/* Read Instructions Button */
button.read-instructions {
  width: 100%;
  max-width: 400px;
  margin-top: 1rem;
  padding: 10px 20px;
  border: none;
  border-radius: 15px;
  background: #a4d03b;
  color: #fff;
  font-size: 1rem;
  cursor: pointer;
  box-shadow:
    2px 2px 6px rgba(0, 80, 0, 0.5),
    inset 1px 1px 3px rgba(255, 255, 255, 0.6);
  transition: background 0.3s ease;
}

button.read-instructions:hover {
  background: #81b622;
}

/* ================================================
   6. Select Dropdown
==================================================*/

select {
  display: block;
  width: 100%;
  max-width: 400px;
  margin: 1rem 0 1rem 0;
  padding: 8px 10px;
  border: 2px solid #7db33f;
  border-radius: 10px;
  background: #e9f6d6;
  color: #3b6b1e;
  font-size: 1rem;
  box-shadow: inset 2px 2px 6px rgba(124, 179, 63, 0.5);
  cursor: pointer;
}

/* ================================================
   7. Links & Paragraphs
==================================================*/

p {
  margin-top: 1.5rem;
  color: #3a6d24;
  font-weight: 600;
  font-size: 1rem;
}

a {
  color: #6f9f2b;
  font-weight: 700;
  text-decoration: none;
  transition: color 0.3s ease;
}

a:hover {
  color: #a3d39c;
  text-decoration: underline;
}

/* ================================================
   8. Responsive Design
==================================================*/

@media (max-width: 360px) {
  .input-group {
    flex-direction: column;
    align-items: stretch;
  }

  button[type="button"] {
    width: 100%;
    height: 38px;
    margin-top: 0.4rem;
  }

  input[type="email"],
  input[type="password"] {
    width: 100%;
    flex: none;
  }
}
  </style>
</head>
<body>
  <h2>{{ text.login }}</h2>

  <form action="/login" method="POST">
    <label for="email">üìß {{ text.email }}</label>
    <div class="input-group">
      <input type="email" name="email" id="email" required>
      <button type="button" onclick="startSpeech('email')">üé§</button>
    </div>

    <label for="password">üîí {{ text.password }}</label>
    <div class="input-group">
      <input type="password" name="password" id="password" required>
      <button type="button" onclick="startSpeech('password')">üé§</button>
    </div>

    <button type="submit">{{ text.login }}</button>
  </form>

  <p>{{ text.no_account }} <a href="/register">{{ text.register_here }}</a></p>

  <label>{{ text.language }}</label>
  <select onchange="changeLanguage(this.value)">
    <option value="en" {% if lang == 'en' %}selected{% endif %}>English</option>
    <option value="hi" {% if lang == 'hi' %}selected{% endif %}>‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
    <option value="ta" {% if lang == 'ta' %}selected{% endif %}>‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
  </select>

  <button class="read-instructions" onclick="speakText()">
    üîä {{ text.read_instructions if text.read_instructions else 'Read Instructions' }}
  </button>

  <script>
    const selectedLang = "{{ lang }}";

    function changeLanguage(lang) {
      fetch("/set_language", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ lang })
      }).then(() => location.reload());
    }

    function startSpeech(fieldId) {
      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = selectedLang === 'hi' ? 'hi-IN' : selectedLang === 'ta' ? 'ta-IN' : 'en-IN';
      recognition.start();

      recognition.onresult = function (event) {
        document.getElementById(fieldId).value = event.results[0][0].transcript;
      };

      recognition.onerror = function (event) {
        alert('Speech recognition error: ' + event.error);
      };
    }

    function speakText() {
      const instructions = {
        en: "Please enter your email and password. You can also use voice input by clicking the microphone icon.",
        hi: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§î‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ü‡§™ ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§´‡§º‡•ã‡§® ‡§Ü‡§á‡§ï‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§Ü‡§µ‡§æ‡§ú‡§º ‡§á‡§®‡§™‡•Å‡§ü ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        ta: "‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç. üé§ ‡Æê ‡Æï‡Æø‡Æ≥‡Æø‡Æï‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æï‡ØÅ‡Æ∞‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡ØÄ‡Æü‡Øç‡Æü‡Øà ‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æ≤‡Ææ‡ÆÆ‡Øç."
      };

      const message = instructions[selectedLang] || instructions['en'];
      const utterance = new SpeechSynthesisUtterance(message);

      utterance.lang = selectedLang === 'hi' ? 'hi-IN' : selectedLang === 'ta' ? 'en-IN' : 'en-IN';

      window.speechSynthesis.speak(utterance);
    }
  </script>
</body>
</html>
